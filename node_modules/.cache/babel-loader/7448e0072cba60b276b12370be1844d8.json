{"ast":null,"code":"import _classCallCheck from\"/home/kenstate/Desktop/CarDocs-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kenstate/Desktop/CarDocs-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/kenstate/Desktop/CarDocs-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/kenstate/Desktop/CarDocs-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kenstate/Desktop/CarDocs-2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{range}from'lodash';import CarsList from'./CarsList';import{fetchFiltredCars,turnOffHomefilter}from'../../actions';import{connect}from'react-redux';import $ from'jquery';var CarsContainer=/*#__PURE__*/function(_Component){_inherits(CarsContainer,_Component);var _super=_createSuper(CarsContainer);function CarsContainer(props){var _this;_classCallCheck(this,CarsContainer);_this=_super.call(this,props);_this.state={activePage:1,pageSize:6,displayType:'cards',fetchedCars:props.fetchedCars,renderedCars:{},buttonSearchClicked:false,condition:'',specifications:'',make:'',model:'',year:'',Machine:'',priceRange:'KSH0 - KSH300,000'};_this.setCarCondition=_this.setCarCondition.bind(_assertThisInitialized(_this));_this.setCarBody=_this.setCarBody.bind(_assertThisInitialized(_this));_this.setCarMake=_this.setCarMake.bind(_assertThisInitialized(_this));_this.setCarYear=_this.setCarYear.bind(_assertThisInitialized(_this));_this.setCarTransition=_this.setCarTransition.bind(_assertThisInitialized(_this));_this.renderCars=_this.renderCars.bind(_assertThisInitialized(_this));return _this;}_createClass(CarsContainer,[{key:\"buttonSearchClicked\",value:function buttonSearchClicked(){if(this.state!==null){var _this$state=this.state,condition=_this$state.condition,body=_this$state.body,make=_this$state.make,model=_this$state.model,year=_this$state.year,transition=_this$state.transition,priceRange=_this$state.priceRange;var filter={};priceRange=$(\"#priceslider\").val();filter={condition:condition,body:body,make:make,model:model,year:year,transition:transition,priceRange:priceRange};this.props.fetchFiltredCars(filter);this.setState({priceRange:priceRange});}this.setState({buttonSearchClicked:true});this.props.turnOffHomefilter();}},{key:\"setCarCondition\",value:function setCarCondition(event){this.setState({condition:event.target.id});}},{key:\"setCarBody\",value:function setCarBody(event){this.setState({body:event.target.id});}},{key:\"setCarMake\",value:function setCarMake(event){this.setState({make:event.target.id});}},{key:\"setCarYear\",value:function setCarYear(event){this.setState({year:event.target.id});}},{key:\"setCarTransition\",value:function setCarTransition(event){this.setState({transition:event.target.id});}},{key:\"setActivePage\",value:function setActivePage(activePage){this.setState({activePage:activePage});}},{key:\"setPageSize\",value:function setPageSize(size){this.setState({activePage:1,pageSize:size});}},{key:\"setDisplayType\",value:function setDisplayType(displayType){this.setState({displayType:displayType});}},{key:\"getallCars\",value:function getallCars(){this.props.fetchFiltredCars({});}},{key:\"viewAllCars\",value:function viewAllCars(){this.setState({buttonSearchClicked:false});this.setState({fetchedCars:{}});this.setState({priceRange:'$60,000 - $130,000'});if(!this.state.buttonSearchClicked)this.props.turnOffHomefilter();}},{key:\"renderCars\",value:function renderCars(){var _this2=this;var _this$state2=this.state,buttonSearchClicked=_this$state2.buttonSearchClicked,pageSize=_this$state2.pageSize,activePage=_this$state2.activePage,displayType=_this$state2.displayType;var _this$props=this.props,fetchedCars=_this$props.fetchedCars,carsList=_this$props.carsList,homefilterActivated=_this$props.homefilterActivated;var cars=fetchedCars.length!==0?fetchedCars:carsList;/**this condition is if the user search for something from the  search button in car cntainer and no results are found \n         * or enters to car listing throught the home search button and no results found */if(fetchedCars.length===0&&(buttonSearchClicked||homefilterActivated)){return/*#__PURE__*/React.createElement(\"div\",{className:\"banner-item banner-2x no-bg \"},/*#__PURE__*/React.createElement(\"h2\",{className:\"f-weight-300\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-search m-r-lg-10\"},\" \"),\"NO RESULTS\"),/*#__PURE__*/React.createElement(\"a\",{className:\"ht-btn ht-btn-default ht-btn-2x m-t-lg-35\",onClick:function onClick(){return _this2.viewAllCars();}},\"View all computers\"));}else{return/*#__PURE__*/React.createElement(CarsList,{displayType:displayType,carslist:cars.slice((activePage-1)*pageSize,(activePage-1)*pageSize+pageSize)});}}},{key:\"render\",value:function render(){var _this3=this;var _this$props2=this.props,fetchedCars=_this$props2.fetchedCars,carsList=_this$props2.carsList,filters=_this$props2.filters,homefilterActivated=_this$props2.homefilterActivated;var _this$state3=this.state,pageSize=_this$state3.pageSize,buttonSearchClicked=_this$state3.buttonSearchClicked;var condition=filters.condition,body=filters.body,make=filters.make,year=filters.year,transition=filters.transition,priceRange=filters.priceRange;var cars=fetchedCars.length!==0?fetchedCars:carsList;/**cars list will be empty if a search returns no result */if(fetchedCars.length===0&&buttonSearchClicked)cars={};/**returns a number to know the number of pages */var table=range(1,Math.ceil(cars.length/pageSize)+1,1);/**if I am in cars container And I was in home containers , and I already had a filter then the slider should follow the previous slider \n         *  filter that was setted in state */if(!homefilterActivated&&buttonSearchClicked){var priceIntervall=this.state.priceRange;var min=1000*priceIntervall.slice(1,priceIntervall.indexOf(\",\"));var max=1000*priceIntervall.slice(priceIntervall.indexOf(\"-\")+3,priceIntervall.indexOf(\",\",priceIntervall.indexOf(\"-\")));window.reRenderRangeSliderOther(min,max);}/**If I was in cars containers and I did not changed yet the slider in cars container then the slider should be as in filters */if(homefilterActivated&&!buttonSearchClicked){min=1000*priceRange.slice(1,priceRange.indexOf(\",\"));max=1000*priceRange.slice(priceRange.indexOf(\"-\")+3,priceRange.indexOf(\",\",priceRange.indexOf(\"-\")));window.reRenderRangeSliderOther(min,max);}else if(!buttonSearchClicked){window.reRenderRangeSlider();}return/*#__PURE__*/React.createElement(\"section\",{className:\"m-t-lg-30 m-t-xs-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-5 col-md-4 col-lg-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"search-option m-b-lg-50 p-lg-20\"},/*#__PURE__*/React.createElement(\"div\",{className:\"select-wrapper m-b-lg-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-toggle form-item\",type:\"button\",id:\"dropdownMenu1\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"true\"},filters!==undefined&&condition!==undefined&&condition!==''&&homefilterActivated?condition.toUpperCase():'Condition'),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenu1\"},/*#__PURE__*/React.createElement(\"li\",{id:\"\",onClick:this.setCarCondition},\"Any condition\"),/*#__PURE__*/React.createElement(\"li\",{id:\"new\",onClick:this.setCarCondition},\"New \"),/*#__PURE__*/React.createElement(\"li\",{id:\"used\",onClick:this.setCarCondition},\"Used \")))),/*#__PURE__*/React.createElement(\"div\",{className:\"select-wrapper m-b-lg-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-toggle form-item\",type:\"button\",id:\"dropdownMenu2\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"true\"},filters!==undefined&&body!==undefined&&body!==''?body.toUpperCase():'Body'),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenu2\"},/*#__PURE__*/React.createElement(\"li\",{id:\"\",onClick:this.setCarBody},\"Processor type\"),/*#__PURE__*/React.createElement(\"li\",{id:\"sedan\",onClick:this.setCarBody},\"Processor speed\"),/*#__PURE__*/React.createElement(\"li\",{id:\"suv\",onClick:this.setCarBody},\"RAM\"),/*#__PURE__*/React.createElement(\"li\",{id:\"truck\",onClick:this.setCarBody},\"Disk size\"),/*#__PURE__*/React.createElement(\"li\",{id:\"coupe\",onClick:this.setCarBody},\"Graphics card\"),/*#__PURE__*/React.createElement(\"li\",{id:\"minivan\",onClick:this.setCarBody},\"Operating system\"),/*#__PURE__*/React.createElement(\"li\",{id:\"compact\",onClick:this.setCarBody},\"Screen size\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"select-wrapper m-b-lg-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-toggle form-item\",type:\"button\",id:\"dropdownMenu3\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"true\"},filters!==undefined&&make!==undefined&&make!==''?make.toUpperCase():'Make'),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenu3\"},/*#__PURE__*/React.createElement(\"li\",{id:\"\",onClick:this.setCarMake},\"Any Brand\"),/*#__PURE__*/React.createElement(\"li\",{id:\"ford\",onClick:this.setCarMake},\"HP\"),/*#__PURE__*/React.createElement(\"li\",{id:\"huyndai\",onClick:this.setCarMake},\"Mackintosh\"),/*#__PURE__*/React.createElement(\"li\",{id:\"nissan\",onClick:this.setCarMake},\"Dell\"),/*#__PURE__*/React.createElement(\"li\",{id:\"chevrolet\",onClick:this.setCarMake},\"Acer\"),/*#__PURE__*/React.createElement(\"li\",{id:\"kia\",onClick:this.setCarMake},\"Lenovo\"),/*#__PURE__*/React.createElement(\"li\",{id:\"mazda\",onClick:this.setCarMake},\"Asus\"),/*#__PURE__*/React.createElement(\"li\",{id:\"bmw\",onClick:this.setCarMake},\"Toshiba\"),/*#__PURE__*/React.createElement(\"li\",{id:\"toyota\",onClick:this.setCarMake},\"Samsung\"),/*#__PURE__*/React.createElement(\"li\",{id:\"mercedes\",onClick:this.setCarMake},\"Sony\"),/*#__PURE__*/React.createElement(\"li\",{id:\"ford\",onClick:this.setCarMake},\"Ilife\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"select-wrapper m-b-lg-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-toggle form-item\",type:\"button\",id:\"dropdownMenu5\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"true\"},filters!==undefined&&year!==undefined&&year!==''?year.toUpperCase():'Year'),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenu5\"},/*#__PURE__*/React.createElement(\"li\",{id:\"\",onClick:this.setCarYear},\"Any Year\"),/*#__PURE__*/React.createElement(\"li\",{id:\"2016\",onClick:this.setCarYear},\"2016\"),/*#__PURE__*/React.createElement(\"li\",{id:\"2015\",onClick:this.setCarYear},\"2015\"),/*#__PURE__*/React.createElement(\"li\",{id:\"2014\",onClick:this.setCarYear},\"2014\"),/*#__PURE__*/React.createElement(\"li\",{id:\"2013\",onClick:this.setCarYear},\"2013\"),/*#__PURE__*/React.createElement(\"li\",{id:\"2012\",onClick:this.setCarYear},\"2012\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"select-wrapper m-b-lg-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-toggle form-item\",type:\"button\",id:\"dropdownMenu6\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"true\"},filters!==undefined&&transition!==undefined&&transition!==''?transition.toUpperCase():'Tranmission'),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenu6\"},/*#__PURE__*/React.createElement(\"li\",{id:\"\",onClick:this.setCarTransition},\"Any Type\"),/*#__PURE__*/React.createElement(\"li\",{id:\"automatic\",onClick:this.setCarTransition},\"Desktop\"),/*#__PURE__*/React.createElement(\"li\",{id:\"manual\",onClick:this.setCarTransition},\"Laptop\")))),/*#__PURE__*/React.createElement(\"input\",{id:\"priceslider\",type:\"text\",disabled:true,className:\"slider_amount m-t-lg-10\",value:priceRange!==undefined&&homefilterActivated?priceRange:this.state.priceRange}),/*#__PURE__*/React.createElement(\"div\",{id:\"spanrange\",className:\"slider-range\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"ht-btn ht-btn-default m-t-lg-30\",onClick:function onClick(){return _this3.buttonSearchClicked();}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-search\"}),\"Search Now\")),/*#__PURE__*/React.createElement(\"div\",{className:\"clearfix\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"banner-item banner-bg-4 banner-1x color-inher\"},/*#__PURE__*/React.createElement(\"h5\",null),/*#__PURE__*/React.createElement(\"h3\",{className:\"f-weight-300\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Online Computer Shop\")),/*#__PURE__*/React.createElement(\"p\",null,\"Great machines at Affordable Prices \\u2B07\\uFE0F\"),/*#__PURE__*/React.createElement(\"a\",{className:\"ht-btn ht-btn-default\"},\"Shop now\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-7 col-md-8 col-lg-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product product-grid product-grid-2 car\"},/*#__PURE__*/React.createElement(\"div\",{className:\"heading heading-2 m-b-lg-0\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"p-l-lg-20\"},\"Computers (\",cars.length,\")\")),/*#__PURE__*/React.createElement(\"div\",{className:\"product-filter p-t-xs-20 p-l-xs-20\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-b-xs-10 pull-left\"},/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this3.setDisplayType('cards');},className:this.state.displayType==='cards'?'active':''},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-th\"})),/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this3.setDisplayType('list');},className:this.state.displayType==='list'?'active':''},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-th-list\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pull-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pull-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"select-wrapper\"},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-sort-alpha-asc\"}),\"Show :\",\" \"),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown pull-left\"},/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-toggle form-item w-80\",type:\"button\",id:\"dropdownMenu2\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"true\"},this.state.pageSize),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenu2\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this3.setPageSize(4);}},\"4\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this3.setPageSize(6);}},\"6\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this3.setPageSize(cars.length);}},\"All\")))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"clearfix\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},this.renderCars()),/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"Page navigation\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"pagination ht-pagination\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{\"aria-label\":\"Previous\",style:this.state.activePage===1||cars.length!==0?{display:'none'}:{display:'block'}},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-left\",onClick:function onClick(){_this3.setActivePage(_this3.state.activePage-1);}})))),table.map(function(i){if(table.length<=1)return'';else{return/*#__PURE__*/React.createElement(\"li\",{key:i,className:_this3.state.activePage===i?\"active\":\"\"},/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){_this3.setActivePage(i);}},i));}}),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{\"aria-label\":\"Next\",style:this.state.activePage===Math.ceil(cars.length/this.state.pageSize)||cars.length!==0?{display:'none'}:{display:'block'}},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-right\",onClick:function onClick(){_this3.setActivePage(_this3.state.activePage+1);}}))))))))));}}]);return CarsContainer;}(Component);/**fetchedCars is the reducer state for the cars fetched from the API ,\n *  and homefilterActivated is to know if the user entred this page throught the home filter or not */function mapStateToProps(_ref){var fetchedCars=_ref.fetchedCars,homefilterActivated=_ref.homefilterActivated;return{fetchedCars:fetchedCars,homefilterActivated:homefilterActivated};}export default connect(mapStateToProps,{fetchFiltredCars:fetchFiltredCars,turnOffHomefilter:turnOffHomefilter})(CarsContainer);","map":{"version":3,"sources":["/home/kenstate/Desktop/CarDocs-2/client/src/components/CarsSpace/CarsContainer.js"],"names":["React","Component","range","CarsList","fetchFiltredCars","turnOffHomefilter","connect","$","CarsContainer","props","state","activePage","pageSize","displayType","fetchedCars","renderedCars","buttonSearchClicked","condition","specifications","make","model","year","Machine","priceRange","setCarCondition","bind","setCarBody","setCarMake","setCarYear","setCarTransition","renderCars","body","transition","filter","val","setState","event","target","id","size","carsList","homefilterActivated","cars","length","viewAllCars","slice","filters","table","Math","ceil","priceIntervall","min","indexOf","max","window","reRenderRangeSliderOther","reRenderRangeSlider","undefined","toUpperCase","setDisplayType","setPageSize","display","setActivePage","map","i","mapStateToProps"],"mappings":"sxBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,KAAT,KAAsB,QAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,gBAAT,CAA2BC,iBAA3B,KAAoD,eAApD,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,GAGMC,CAAAA,a,8GAEF,uBAAYC,KAAZ,CAAmB,+CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,UAAU,CAAE,CADH,CAETC,QAAQ,CAAE,CAFD,CAGTC,WAAW,CAAE,OAHJ,CAITC,WAAW,CAAEL,KAAK,CAACK,WAJV,CAKTC,YAAY,CAAE,EALL,CAMTC,mBAAmB,CAAE,KANZ,CAOTC,SAAS,CAAE,EAPF,CAQTC,cAAc,CAAE,EARP,CASTC,IAAI,CAAE,EATG,CAUTC,KAAK,CAAE,EAVE,CAWTC,IAAI,CAAE,EAXG,CAYTC,OAAO,CAAE,EAZA,CAaTC,UAAU,CAAE,mBAbH,CAAb,CAeA,MAAKC,eAAL,CAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB,CACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB,CACA,MAAKE,UAAL,CAAkB,MAAKA,UAAL,CAAgBF,IAAhB,+BAAlB,CACA,MAAKG,UAAL,CAAkB,MAAKA,UAAL,CAAgBH,IAAhB,+BAAlB,CACA,MAAKI,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBJ,IAAtB,+BAAxB,CACA,MAAKK,UAAL,CAAkB,MAAKA,UAAL,CAAgBL,IAAhB,+BAAlB,CAtBe,aAuBlB,C,2FAEqB,CAElB,GAAI,KAAKf,KAAL,GAAe,IAAnB,CAAyB,iBACgD,KAAKA,KADrD,CACfO,SADe,aACfA,SADe,CACJc,IADI,aACJA,IADI,CACEZ,IADF,aACEA,IADF,CACQC,KADR,aACQA,KADR,CACeC,IADf,aACeA,IADf,CACqBW,UADrB,aACqBA,UADrB,CACiCT,UADjC,aACiCA,UADjC,CAErB,GAAIU,CAAAA,MAAM,CAAG,EAAb,CACAV,UAAU,CAAGhB,CAAC,CAAC,cAAD,CAAD,CAAkB2B,GAAlB,EAAb,CAEAD,MAAM,CAAG,CAAEhB,SAAS,CAATA,SAAF,CAAac,IAAI,CAAJA,IAAb,CAAmBZ,IAAI,CAAJA,IAAnB,CAAyBC,KAAK,CAALA,KAAzB,CAAgCC,IAAI,CAAJA,IAAhC,CAAsCW,UAAU,CAAVA,UAAtC,CAAkDT,UAAU,CAAVA,UAAlD,CAAT,CACA,KAAKd,KAAL,CAAWL,gBAAX,CAA4B6B,MAA5B,EAEA,KAAKE,QAAL,CAAc,CAACZ,UAAU,CAAVA,UAAD,CAAd,EAGH,CACD,KAAKY,QAAL,CAAc,CAACnB,mBAAmB,CAAG,IAAvB,CAAd,EACA,KAAKP,KAAL,CAAWJ,iBAAX,GAEH,C,wDAEe+B,K,CAAO,CACnB,KAAKD,QAAL,CAAc,CAAElB,SAAS,CAAEmB,KAAK,CAACC,MAAN,CAAaC,EAA1B,CAAd,EACH,C,8CACUF,K,CAAO,CACd,KAAKD,QAAL,CAAc,CAAEJ,IAAI,CAAEK,KAAK,CAACC,MAAN,CAAaC,EAArB,CAAd,EACH,C,8CACUF,K,CAAO,CACd,KAAKD,QAAL,CAAc,CAAEhB,IAAI,CAAEiB,KAAK,CAACC,MAAN,CAAaC,EAArB,CAAd,EACH,C,8CACUF,K,CAAO,CACd,KAAKD,QAAL,CAAc,CAAEd,IAAI,CAAEe,KAAK,CAACC,MAAN,CAAaC,EAArB,CAAd,EACH,C,0DACgBF,K,CAAO,CACpB,KAAKD,QAAL,CAAc,CAAEH,UAAU,CAAEI,KAAK,CAACC,MAAN,CAAaC,EAA3B,CAAd,EACH,C,oDAEa3B,U,CAAY,CACtB,KAAKwB,QAAL,CAAc,CAAExB,UAAU,CAAEA,UAAd,CAAd,EACH,C,gDACW4B,I,CAAM,CACd,KAAKJ,QAAL,CAAc,CAAExB,UAAU,CAAE,CAAd,CAAiBC,QAAQ,CAAE2B,IAA3B,CAAd,EACH,C,sDACc1B,W,CAAa,CACxB,KAAKsB,QAAL,CAAc,CAAEtB,WAAW,CAAXA,WAAF,CAAd,EACH,C,+CAEY,CACT,KAAKJ,KAAL,CAAWL,gBAAX,CAA4B,EAA5B,EACH,C,iDACY,CACT,KAAK+B,QAAL,CAAc,CAACnB,mBAAmB,CAAG,KAAvB,CAAd,EACA,KAAKmB,QAAL,CAAc,CAACrB,WAAW,CAAG,EAAf,CAAd,EACA,KAAKqB,QAAL,CAAc,CAACZ,UAAU,CAAE,oBAAb,CAAd,EACA,GAAG,CAAC,KAAKb,KAAL,CAAWM,mBAAf,CAAmC,KAAKP,KAAL,CAAWJ,iBAAX,GACtC,C,+CAEY,kCACsD,KAAKK,KAD3D,CACJM,mBADI,cACJA,mBADI,CACiBJ,QADjB,cACiBA,QADjB,CAC2BD,UAD3B,cAC2BA,UAD3B,CACuCE,WADvC,cACuCA,WADvC,iBAEyC,KAAKJ,KAF9C,CAEJK,WAFI,aAEJA,WAFI,CAES0B,QAFT,aAESA,QAFT,CAEmBC,mBAFnB,aAEmBA,mBAFnB,CAGT,GAAIC,CAAAA,IAAI,CAAG5B,WAAW,CAAC6B,MAAZ,GAAuB,CAAvB,CAA2B7B,WAA3B,CAAyC0B,QAApD,CAEA;AACR,2FACQ,GAAI1B,WAAW,CAAC6B,MAAZ,GAAuB,CAAvB,GAA6B3B,mBAAmB,EAAKyB,mBAArD,CAAJ,CAA+E,CAC3E,mBAAO,2BAAK,SAAS,CAAC,8BAAf,eACH,0BAAI,SAAS,CAAC,cAAd,eAA6B,yBAAG,SAAS,CAAC,wBAAb,MAA7B,cADG,cAEH,yBAAG,SAAS,CAAC,2CAAb,CAAyD,OAAO,CAAE,yBAAI,CAAA,MAAI,CAACG,WAAL,EAAJ,EAAlE,uBAFG,CAAP,CAMH,CAPD,IAQK,CACD,mBAAO,oBAAC,QAAD,EAAU,WAAW,CAAE/B,WAAvB,CAAoC,QAAQ,CAAE6B,IAAI,CAACG,KAAL,CAAW,CAAClC,UAAU,CAAG,CAAd,EAAmBC,QAA9B,CAAwC,CAACD,UAAU,CAAG,CAAd,EAAmBC,QAAnB,CAA8BA,QAAtE,CAA9C,EAAP,CACH,CACJ,C,uCAEQ,kCACsD,KAAKH,KAD3D,CACAK,WADA,cACAA,WADA,CACa0B,QADb,cACaA,QADb,CACuBM,OADvB,cACuBA,OADvB,CACgCL,mBADhC,cACgCA,mBADhC,kBAEgC,KAAK/B,KAFrC,CAEAE,QAFA,cAEAA,QAFA,CAEUI,mBAFV,cAEUA,mBAFV,IAGGC,CAAAA,SAHH,CAG2D6B,OAH3D,CAGG7B,SAHH,CAGcc,IAHd,CAG2De,OAH3D,CAGcf,IAHd,CAGoBZ,IAHpB,CAG2D2B,OAH3D,CAGoB3B,IAHpB,CAG0BE,IAH1B,CAG2DyB,OAH3D,CAG0BzB,IAH1B,CAGgCW,UAHhC,CAG2Dc,OAH3D,CAGgCd,UAHhC,CAG4CT,UAH5C,CAG2DuB,OAH3D,CAG4CvB,UAH5C,CAIL,GAAImB,CAAAA,IAAI,CAAG5B,WAAW,CAAC6B,MAAZ,GAAuB,CAAvB,CAA2B7B,WAA3B,CAAyC0B,QAApD,CACA,2DACA,GAAG1B,WAAW,CAAC6B,MAAZ,GAAuB,CAAvB,EAA4B3B,mBAA/B,CAAoD0B,IAAI,CAAE,EAAN,CACpD,kDACA,GAAMK,CAAAA,KAAK,CAAG7C,KAAK,CAAC,CAAD,CAAI8C,IAAI,CAACC,IAAL,CAAUP,IAAI,CAACC,MAAL,CAAc/B,QAAxB,EAAoC,CAAxC,CAA2C,CAA3C,CAAnB,CAGA;AACR,8CACQ,GAAI,CAAC6B,mBAAD,EAAwBzB,mBAA5B,CAAiD,CAC7C,GAAIkC,CAAAA,cAAc,CAAC,KAAKxC,KAAL,CAAWa,UAA9B,CACA,GAAI4B,CAAAA,GAAG,CAAG,KAAOD,cAAc,CAACL,KAAf,CAAqB,CAArB,CAAwBK,cAAc,CAACE,OAAf,CAAuB,GAAvB,CAAxB,CAAjB,CACA,GAAIC,CAAAA,GAAG,CAAG,KAAOH,cAAc,CAACL,KAAf,CAAqBK,cAAc,CAACE,OAAf,CAAuB,GAAvB,EAA8B,CAAnD,CAAsDF,cAAc,CAACE,OAAf,CAAuB,GAAvB,CAA4BF,cAAc,CAACE,OAAf,CAAuB,GAAvB,CAA5B,CAAtD,CAAjB,CACAE,MAAM,CAACC,wBAAP,CAAgCJ,GAAhC,CAAqCE,GAArC,EACH,CACD,gIACA,GAAIZ,mBAAmB,EAAI,CAACzB,mBAA5B,CAAiD,CAC5CmC,GAAG,CAAG,KAAO5B,UAAU,CAACsB,KAAX,CAAiB,CAAjB,CAAoBtB,UAAU,CAAC6B,OAAX,CAAmB,GAAnB,CAApB,CAAb,CACAC,GAAG,CAAG,KAAO9B,UAAU,CAACsB,KAAX,CAAiBtB,UAAU,CAAC6B,OAAX,CAAmB,GAAnB,EAA0B,CAA3C,CAA8C7B,UAAU,CAAC6B,OAAX,CAAmB,GAAnB,CAAwB7B,UAAU,CAAC6B,OAAX,CAAmB,GAAnB,CAAxB,CAA9C,CAAb,CACDE,MAAM,CAACC,wBAAP,CAAgCJ,GAAhC,CAAqCE,GAArC,EACH,CAJD,IAIM,IAAI,CAACrC,mBAAL,CAAyB,CAACsC,MAAM,CAACE,mBAAP,GAA6B,CAE7D,mBACI,+BAAS,SAAS,CAAC,oBAAnB,eACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,4BAAf,eACI,2BAAK,SAAS,CAAC,iCAAf,eACI,2BAAK,SAAS,CAAC,0BAAf,eACI,2BAAK,SAAS,CAAC,UAAf,eACI,8BAAQ,SAAS,CAAC,2BAAlB,CAA8C,IAAI,CAAC,QAAnD,CAA4D,EAAE,CAAC,eAA/D,CAA+E,cAAY,UAA3F,CAAsG,gBAAc,MAApH,CAA2H,gBAAc,MAAzI,EACMV,OAAO,GAAKW,SAAZ,EAAyBxC,SAAS,GAAKwC,SAAvC,EAAoDxC,SAAS,GAAK,EAAlE,EAA0EwB,mBAA3E,CAAkGxB,SAAS,CAACyC,WAAV,EAAlG,CAA4H,WADjI,CADJ,cAII,0BAAI,SAAS,CAAC,eAAd,CAA8B,kBAAgB,eAA9C,eACI,0BAAI,EAAE,CAAC,EAAP,CAAU,OAAO,CAAE,KAAKlC,eAAxB,kBADJ,cAEI,0BAAI,EAAE,CAAC,KAAP,CAAa,OAAO,CAAE,KAAKA,eAA3B,SAFJ,cAGI,0BAAI,EAAE,CAAC,MAAP,CAAc,OAAO,CAAE,KAAKA,eAA5B,UAHJ,CAJJ,CADJ,CADJ,cAaI,2BAAK,SAAS,CAAC,0BAAf,eACI,2BAAK,SAAS,CAAC,UAAf,eACI,8BAAQ,SAAS,CAAC,2BAAlB,CAA8C,IAAI,CAAC,QAAnD,CAA4D,EAAE,CAAC,eAA/D,CAA+E,cAAY,UAA3F,CAAsG,gBAAc,MAApH,CAA2H,gBAAc,MAAzI,EACKsB,OAAO,GAAKW,SAAZ,EAAyB1B,IAAI,GAAK0B,SAAlC,EAA+C1B,IAAI,GAAK,EAAxD,CAA6DA,IAAI,CAAC2B,WAAL,EAA7D,CAAkF,MADvF,CADJ,cAII,0BAAI,SAAS,CAAC,eAAd,CAA8B,kBAAgB,eAA9C,eACI,0BAAI,EAAE,CAAC,EAAP,CAAU,OAAO,CAAE,KAAKhC,UAAxB,mBADJ,cAEI,0BAAI,EAAE,CAAC,OAAP,CAAe,OAAO,CAAE,KAAKA,UAA7B,oBAFJ,cAGI,0BAAI,EAAE,CAAC,KAAP,CAAa,OAAO,CAAE,KAAKA,UAA3B,QAHJ,cAII,0BAAI,EAAE,CAAC,OAAP,CAAe,OAAO,CAAE,KAAKA,UAA7B,cAJJ,cAKI,0BAAI,EAAE,CAAC,OAAP,CAAe,OAAO,CAAE,KAAKA,UAA7B,kBALJ,cAMI,0BAAI,EAAE,CAAC,SAAP,CAAiB,OAAO,CAAE,KAAKA,UAA/B,qBANJ,cAOI,0BAAI,EAAE,CAAC,SAAP,CAAiB,OAAO,CAAE,KAAKA,UAA/B,gBAPJ,CAJJ,CADJ,CAbJ,cA6BI,2BAAK,SAAS,CAAC,0BAAf,eACI,2BAAK,SAAS,CAAC,UAAf,eACI,8BAAQ,SAAS,CAAC,2BAAlB,CAA8C,IAAI,CAAC,QAAnD,CAA4D,EAAE,CAAC,eAA/D,CAA+E,cAAY,UAA3F,CAAsG,gBAAc,MAApH,CAA2H,gBAAc,MAAzI,EACKoB,OAAO,GAAKW,SAAZ,EAAyBtC,IAAI,GAAKsC,SAAlC,EAA+CtC,IAAI,GAAK,EAAxD,CAA6DA,IAAI,CAACuC,WAAL,EAA7D,CAAkF,MADvF,CADJ,cAII,0BAAI,SAAS,CAAC,eAAd,CAA8B,kBAAgB,eAA9C,eACI,0BAAI,EAAE,CAAC,EAAP,CAAU,OAAO,CAAE,KAAK/B,UAAxB,cADJ,cAEI,0BAAI,EAAE,CAAC,MAAP,CAAc,OAAO,CAAE,KAAKA,UAA5B,OAFJ,cAGI,0BAAI,EAAE,CAAC,SAAP,CAAiB,OAAO,CAAE,KAAKA,UAA/B,eAHJ,cAII,0BAAI,EAAE,CAAC,QAAP,CAAgB,OAAO,CAAE,KAAKA,UAA9B,SAJJ,cAKI,0BAAI,EAAE,CAAC,WAAP,CAAmB,OAAO,CAAE,KAAKA,UAAjC,SALJ,cAMI,0BAAI,EAAE,CAAC,KAAP,CAAa,OAAO,CAAE,KAAKA,UAA3B,WANJ,cAOI,0BAAI,EAAE,CAAC,OAAP,CAAe,OAAO,CAAE,KAAKA,UAA7B,SAPJ,cAQI,0BAAI,EAAE,CAAC,KAAP,CAAa,OAAO,CAAE,KAAKA,UAA3B,YARJ,cASI,0BAAI,EAAE,CAAC,QAAP,CAAgB,OAAO,CAAE,KAAKA,UAA9B,YATJ,cAUI,0BAAI,EAAE,CAAC,UAAP,CAAkB,OAAO,CAAE,KAAKA,UAAhC,SAVJ,cAWI,0BAAI,EAAE,CAAC,MAAP,CAAc,OAAO,CAAE,KAAKA,UAA5B,UAXJ,CAJJ,CADJ,CA7BJ,cAkDI,2BAAK,SAAS,CAAC,0BAAf,eACI,2BAAK,SAAS,CAAC,UAAf,eACI,8BAAQ,SAAS,CAAC,2BAAlB,CAA8C,IAAI,CAAC,QAAnD,CAA4D,EAAE,CAAC,eAA/D,CAA+E,cAAY,UAA3F,CAAsG,gBAAc,MAApH,CAA2H,gBAAc,MAAzI,EACKmB,OAAO,GAAKW,SAAZ,EAAyBpC,IAAI,GAAKoC,SAAlC,EAA+CpC,IAAI,GAAK,EAAxD,CAA6DA,IAAI,CAACqC,WAAL,EAA7D,CAAkF,MADvF,CADJ,cAII,0BAAI,SAAS,CAAC,eAAd,CAA8B,kBAAgB,eAA9C,eACI,0BAAI,EAAE,CAAC,EAAP,CAAU,OAAO,CAAE,KAAK9B,UAAxB,aADJ,cAEI,0BAAI,EAAE,CAAC,MAAP,CAAc,OAAO,CAAE,KAAKA,UAA5B,SAFJ,cAGI,0BAAI,EAAE,CAAC,MAAP,CAAc,OAAO,CAAE,KAAKA,UAA5B,SAHJ,cAII,0BAAI,EAAE,CAAC,MAAP,CAAc,OAAO,CAAE,KAAKA,UAA5B,SAJJ,cAKI,0BAAI,EAAE,CAAC,MAAP,CAAc,OAAO,CAAE,KAAKA,UAA5B,SALJ,cAMI,0BAAI,EAAE,CAAC,MAAP,CAAc,OAAO,CAAE,KAAKA,UAA5B,SANJ,CAJJ,CADJ,CAlDJ,cAiEI,2BAAK,SAAS,CAAC,0BAAf,eACI,2BAAK,SAAS,CAAC,UAAf,eACI,8BAAQ,SAAS,CAAC,2BAAlB,CAA8C,IAAI,CAAC,QAAnD,CAA4D,EAAE,CAAC,eAA/D,CAA+E,cAAY,UAA3F,CAAsG,gBAAc,MAApH,CAA2H,gBAAc,MAAzI,EACKkB,OAAO,GAAKW,SAAZ,EAAyBzB,UAAU,GAAKyB,SAAxC,EAAqDzB,UAAU,GAAK,EAApE,CAAyEA,UAAU,CAAC0B,WAAX,EAAzE,CAAoG,aADzG,CADJ,cAII,0BAAI,SAAS,CAAC,eAAd,CAA8B,kBAAgB,eAA9C,eACI,0BAAI,EAAE,CAAC,EAAP,CAAU,OAAO,CAAE,KAAK7B,gBAAxB,aADJ,cAEI,0BAAI,EAAE,CAAC,WAAP,CAAmB,OAAO,CAAE,KAAKA,gBAAjC,YAFJ,cAGI,0BAAI,EAAE,CAAC,QAAP,CAAgB,OAAO,CAAE,KAAKA,gBAA9B,WAHJ,CAJJ,CADJ,CAjEJ,cA6EI,6BAAO,EAAE,CAAC,aAAV,CAAwB,IAAI,CAAC,MAA7B,CAAoC,QAAQ,KAA5C,CAA6C,SAAS,CAAC,yBAAvD,CAAiF,KAAK,CAAEN,UAAU,GAAGkC,SAAb,EAA0BhB,mBAA1B,CAAgDlB,UAAhD,CAA6D,KAAKb,KAAL,CAAWa,UAAhK,EA7EJ,cA8EI,2BAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAC,cAA9B,EA9EJ,cA+EI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iCAAhC,CAAkE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACP,mBAAL,EAAN,EAA3E,eAA6G,yBAAG,SAAS,CAAC,cAAb,EAA7G,cA/EJ,CADJ,cAkFI,2BAAK,SAAS,CAAC,UAAf,EAlFJ,cAmFI,2BAAK,SAAS,CAAC,+CAAf,eACI,8BADJ,cAEI,0BAAI,SAAS,CAAC,cAAd,eAA6B,yDAA7B,CAFJ,cAGI,gFAHJ,cAII,yBAAG,SAAS,CAAC,uBAAb,aAJJ,CAnFJ,CADJ,cA2FI,2BAAK,SAAS,CAAC,4BAAf,eACI,2BAAK,SAAS,CAAC,yCAAf,eACI,2BAAK,SAAS,CAAC,4BAAf,eACI,0BAAI,SAAS,CAAC,WAAd,gBAAsC0B,IAAI,CAACC,MAA3C,KADJ,CADJ,cAII,2BAAK,SAAS,CAAC,oCAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,yBAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACgB,cAAL,CAAoB,OAApB,CAAN,EAAZ,CAAgD,SAAS,CAAE,KAAKjD,KAAL,CAAWG,WAAX,GAA2B,OAA3B,CAAqC,QAArC,CAAgD,EAA3G,eACI,yBAAG,SAAS,CAAC,UAAb,EADJ,CADJ,cAII,yBAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC8C,cAAL,CAAoB,MAApB,CAAN,EAAZ,CAA+C,SAAS,CAAE,KAAKjD,KAAL,CAAWG,WAAX,GAA2B,MAA3B,CAAoC,QAApC,CAA+C,EAAzG,eACI,yBAAG,SAAS,CAAC,eAAb,EADJ,CAJJ,CADJ,cASI,2BAAK,SAAS,CAAC,YAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,gBAAf,eACA,8CACI,yBAAG,SAAS,CAAC,sBAAb,EADJ,UACiD,GADjD,CADA,cAIA,2BAAK,SAAS,CAAC,oBAAf,eACI,8BAAQ,SAAS,CAAC,gCAAlB,CAAmD,IAAI,CAAC,QAAxD,CAAiE,EAAE,CAAC,eAApE,CAAoF,cAAY,UAAhG,CAA2G,gBAAc,MAAzH,CAAgI,gBAAc,MAA9I,EACC,KAAKH,KAAL,CAAWE,QADZ,CADJ,cAII,0BAAI,SAAS,CAAC,eAAd,CAA8B,kBAAgB,eAA9C,eACA,2CACI,yBAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACgD,WAAL,CAAiB,CAAjB,CAAN,EAAZ,MADJ,CADA,cAIA,2CACI,yBAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACA,WAAL,CAAiB,CAAjB,CAAN,EAAZ,MADJ,CAJA,cAOA,2CACI,yBACA,OAAO,CAAE,yBACL,CAAA,MAAI,CAACA,WAAL,CACIlB,IAAI,CAACC,MADT,CADK,EADT,QADJ,CAPA,CAJJ,CAJA,CADJ,CADJ,CATJ,CAJJ,cA+CI,2BAAK,SAAS,CAAC,UAAf,EA/CJ,cAgDI,2BAAK,SAAS,CAAC,KAAf,EACK,KAAKb,UAAL,EADL,CAhDJ,cAmDI,2BAAK,aAAW,iBAAhB,eACI,0BAAI,SAAS,CAAC,0BAAd,eACI,2CACI,yBAAG,aAAW,UAAd,CAAyB,KAAK,CAAE,KAAKpB,KAAL,CAAWC,UAAX,GAA0B,CAA1B,EAA+B+B,IAAI,CAACC,MAAL,GAAe,CAA9C,CAAkD,CAAEkB,OAAO,CAAE,MAAX,CAAlD,CAAwE,CAAEA,OAAO,CAAE,OAAX,CAAxG,eACI,4BAAM,cAAY,MAAlB,eACI,yBAAG,SAAS,CAAC,oBAAb,CAAkC,OAAO,CAAE,kBAAM,CAAE,MAAI,CAACC,aAAL,CAAmB,MAAI,CAACpD,KAAL,CAAWC,UAAX,CAAwB,CAA3C,EAA+C,CAAlG,EADJ,CADJ,CADJ,CADJ,CAQKoC,KAAK,CAACgB,GAAN,CAAU,SAAAC,CAAC,CAAI,CACZ,GAAGjB,KAAK,CAACJ,MAAN,EAAc,CAAjB,CAAoB,MAAO,EAAP,CAApB,IACI,CACA,mBAAO,0BAAI,GAAG,CAAEqB,CAAT,CAAY,SAAS,CAAE,MAAI,CAACtD,KAAL,CAAWC,UAAX,GAA0BqD,CAA1B,CAA8B,QAA9B,CAAyC,EAAhE,eACC,yBAAG,OAAO,CAAE,kBAAM,CAAE,MAAI,CAACF,aAAL,CAAmBE,CAAnB,EAAuB,CAA3C,EAA8CA,CAA9C,CADD,CAAP,CAGH,CAEJ,CARA,CARL,cAiBI,2CACI,yBAAG,aAAW,MAAd,CAAqB,KAAK,CAAE,KAAKtD,KAAL,CAAWC,UAAX,GAA0BqC,IAAI,CAACC,IAAL,CAAUP,IAAI,CAACC,MAAL,CAAc,KAAKjC,KAAL,CAAWE,QAAnC,CAA1B,EAA0E8B,IAAI,CAACC,MAAL,GAAe,CAAzF,CAA8F,CAAEkB,OAAO,CAAE,MAAX,CAA9F,CAAoH,CAAEA,OAAO,CAAE,OAAX,CAAhJ,eACI,4BAAM,cAAY,MAAlB,eACI,yBAAG,SAAS,CAAC,qBAAb,CAAmC,OAAO,CAAE,kBAAM,CAAE,MAAI,CAACC,aAAL,CAAmB,MAAI,CAACpD,KAAL,CAAWC,UAAX,CAAwB,CAA3C,EAA+C,CAAnG,EADJ,CADJ,CADJ,CAjBJ,CADJ,CAnDJ,CADJ,CA3FJ,CADJ,CADJ,CAmLH,C,2BAnTuBV,S,EAqT5B;AACA,sGACA,QAASgE,CAAAA,eAAT,MAA+D,IAApCnD,CAAAA,WAAoC,MAApCA,WAAoC,CAAvB2B,mBAAuB,MAAvBA,mBAAuB,CAC3D,MAAO,CAAE3B,WAAW,CAAXA,WAAF,CAAe2B,mBAAmB,CAAnBA,mBAAf,CAAP,CACH,CAED,cAAenC,CAAAA,OAAO,CAAC2D,eAAD,CAAkB,CAAE7D,gBAAgB,CAAhBA,gBAAF,CAAoBC,iBAAiB,CAAjBA,iBAApB,CAAlB,CAAP,CAAkEG,aAAlE,CAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport { range } from 'lodash';\nimport CarsList from './CarsList';\nimport { fetchFiltredCars, turnOffHomefilter } from '../../actions'\nimport { connect } from 'react-redux';\nimport $ from 'jquery';\n\n\nclass CarsContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            activePage: 1,\n            pageSize: 6,\n            displayType: 'cards',\n            fetchedCars: props.fetchedCars,\n            renderedCars :{},\n            buttonSearchClicked: false,\n            condition: '',\n            specifications: '',\n            make: '',\n            model: '',\n            year: '',\n            Machine: '',\n            priceRange: 'KSH0 - KSH300,000'\n        };\n        this.setCarCondition = this.setCarCondition.bind(this);\n        this.setCarBody = this.setCarBody.bind(this);\n        this.setCarMake = this.setCarMake.bind(this);\n        this.setCarYear = this.setCarYear.bind(this);\n        this.setCarTransition = this.setCarTransition.bind(this);\n        this.renderCars = this.renderCars.bind(this);\n    }\n\n    buttonSearchClicked() {\n\n        if (this.state !== null) {\n            var { condition, body, make, model, year, transition, priceRange } = this.state;\n            var filter = {};\n            priceRange = $(\"#priceslider\").val();\n            \n            filter = { condition, body, make, model, year, transition, priceRange };\n            this.props.fetchFiltredCars(filter);\n\n            this.setState({priceRange});\n            \n            \n        }\n        this.setState({buttonSearchClicked : true});\n        this.props.turnOffHomefilter();\n        \n    }\n\n    setCarCondition(event) {\n        this.setState({ condition: event.target.id });\n    }\n    setCarBody(event) {\n        this.setState({ body: event.target.id });\n    }\n    setCarMake(event) {\n        this.setState({ make: event.target.id });\n    }\n    setCarYear(event) {\n        this.setState({ year: event.target.id });\n    }\n    setCarTransition(event) {\n        this.setState({ transition: event.target.id });\n    }\n\n    setActivePage(activePage) {\n        this.setState({ activePage: activePage });\n    }\n    setPageSize(size) {\n        this.setState({ activePage: 1, pageSize: size });\n    }\n    setDisplayType(displayType) {\n        this.setState({ displayType });\n    }\n\n    getallCars() {\n        this.props.fetchFiltredCars({});\n    }\n    viewAllCars(){\n        this.setState({buttonSearchClicked : false});\n        this.setState({fetchedCars : {}});\n        this.setState({priceRange: '$60,000 - $130,000'});\n        if(!this.state.buttonSearchClicked)this.props.turnOffHomefilter();\n    }\n\n    renderCars() {\n        var {buttonSearchClicked, pageSize, activePage, displayType} = this.state;\n        var {fetchedCars, carsList, homefilterActivated }=this.props;\n        var cars = fetchedCars.length !== 0 ? fetchedCars : carsList;\n        \n        /**this condition is if the user search for something from the  search button in car cntainer and no results are found \n         * or enters to car listing throught the home search button and no results found */\n        if (fetchedCars.length === 0 && (buttonSearchClicked  || homefilterActivated)) {\n            return <div className=\"banner-item banner-2x no-bg \">\n                <h2 className=\"f-weight-300\"><i className=\"fa fa-search m-r-lg-10\"> </i>NO RESULTS</h2>\n                <a className=\"ht-btn ht-btn-default ht-btn-2x m-t-lg-35\" onClick={()=>this.viewAllCars()}>\n                    View all computers\n                        </a>\n            </div>;\n        }\n        else {\n            return <CarsList displayType={displayType} carslist={cars.slice((activePage - 1) * pageSize, (activePage - 1) * pageSize + pageSize)} />\n        }\n    }\n\n    render() {\n        var {fetchedCars, carsList, filters, homefilterActivated}= this.props;\n        var {pageSize, buttonSearchClicked}= this.state;\n        const { condition, body, make, year, transition, priceRange } = filters;\n        var cars = fetchedCars.length !== 0 ? fetchedCars : carsList;\n        /**cars list will be empty if a search returns no result */\n        if(fetchedCars.length === 0 && buttonSearchClicked) cars= {} ;\n        /**returns a number to know the number of pages */\n        const table = range(1, Math.ceil(cars.length / pageSize) + 1, 1);\n        \n \n        /**if I am in cars container And I was in home containers , and I already had a filter then the slider should follow the previous slider \n         *  filter that was setted in state */\n        if (!homefilterActivated && buttonSearchClicked) {\n            var priceIntervall=this.state.priceRange;\n            var min = 1000 * priceIntervall.slice(1, priceIntervall.indexOf(\",\"));\n            var max = 1000 * priceIntervall.slice(priceIntervall.indexOf(\"-\") + 3, priceIntervall.indexOf(\",\", priceIntervall.indexOf(\"-\")));\n            window.reRenderRangeSliderOther(min, max);\n        }\n        /**If I was in cars containers and I did not changed yet the slider in cars container then the slider should be as in filters */\n        if (homefilterActivated && !buttonSearchClicked) {\n             min = 1000 * priceRange.slice(1, priceRange.indexOf(\",\"));\n             max = 1000 * priceRange.slice(priceRange.indexOf(\"-\") + 3, priceRange.indexOf(\",\", priceRange.indexOf(\"-\")));\n            window.reRenderRangeSliderOther(min, max);\n        }else if (!buttonSearchClicked){window.reRenderRangeSlider()}\n\n        return (\n            <section className=\"m-t-lg-30 m-t-xs-0\">\n                <div className=\"row\">\n                    <div className=\"col-sm-5 col-md-4 col-lg-3\">\n                        <div className=\"search-option m-b-lg-50 p-lg-20\">\n                            <div className=\"select-wrapper m-b-lg-15\">\n                                <div className=\"dropdown\">\n                                    <button className=\"dropdown-toggle form-item\" type=\"button\" id=\"dropdownMenu1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\n                                        {(filters !== undefined && condition !== undefined && condition !== ''  &&  homefilterActivated) ? condition.toUpperCase() : 'Condition'}\n                                    </button>\n                                    <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu1\">\n                                        <li id=\"\" onClick={this.setCarCondition}>Any condition</li>\n                                        <li id=\"new\" onClick={this.setCarCondition}>New </li>\n                                        <li id=\"used\" onClick={this.setCarCondition} >Used </li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div className=\"select-wrapper m-b-lg-15\">\n                                <div className=\"dropdown\">\n                                    <button className=\"dropdown-toggle form-item\" type=\"button\" id=\"dropdownMenu2\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\n                                        {filters !== undefined && body !== undefined && body !== '' ? body.toUpperCase() : 'Body'}\n                                    </button>\n                                    <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\n                                        <li id=\"\" onClick={this.setCarBody} >Processor type</li>\n                                        <li id=\"sedan\" onClick={this.setCarBody} >Processor speed</li>\n                                        <li id=\"suv\" onClick={this.setCarBody}>RAM</li>\n                                        <li id=\"truck\" onClick={this.setCarBody}>Disk size</li>\n                                        <li id=\"coupe\" onClick={this.setCarBody}>Graphics card</li>\n                                        <li id=\"minivan\" onClick={this.setCarBody}>Operating system</li>\n                                        <li id=\"compact\" onClick={this.setCarBody}>Screen size</li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div className=\"select-wrapper m-b-lg-15\">\n                                <div className=\"dropdown\">\n                                    <button className=\"dropdown-toggle form-item\" type=\"button\" id=\"dropdownMenu3\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\n                                        {filters !== undefined && make !== undefined && make !== '' ? make.toUpperCase() : 'Make'}\n                                    </button>\n                                    <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu3\">\n                                        <li id=\"\" onClick={this.setCarMake} >Any Brand</li>\n                                        <li id=\"ford\" onClick={this.setCarMake} >HP</li>\n                                        <li id=\"huyndai\" onClick={this.setCarMake}>Mackintosh</li>\n                                        <li id=\"nissan\" onClick={this.setCarMake}>Dell</li>\n                                        <li id=\"chevrolet\" onClick={this.setCarMake}>Acer</li>\n                                        <li id=\"kia\" onClick={this.setCarMake}>Lenovo</li>\n                                        <li id=\"mazda\" onClick={this.setCarMake}>Asus</li>\n                                        <li id=\"bmw\" onClick={this.setCarMake}>Toshiba</li>\n                                        <li id=\"toyota\" onClick={this.setCarMake}>Samsung</li>\n                                        <li id=\"mercedes\" onClick={this.setCarMake}>Sony</li>\n                                        <li id=\"ford\" onClick={this.setCarMake}>Ilife</li>\n                                    </ul>\n                                </div>\n                            </div>\n                            \n                            <div className=\"select-wrapper m-b-lg-15\">\n                                <div className=\"dropdown\">\n                                    <button className=\"dropdown-toggle form-item\" type=\"button\" id=\"dropdownMenu5\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\n                                        {filters !== undefined && year !== undefined && year !== '' ? year.toUpperCase() : 'Year'}\n                                    </button>\n                                    <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu5\">\n                                        <li id=\"\" onClick={this.setCarYear}>Any Year</li>\n                                        <li id=\"2016\" onClick={this.setCarYear}>2016</li>\n                                        <li id=\"2015\" onClick={this.setCarYear}>2015</li>\n                                        <li id=\"2014\" onClick={this.setCarYear}>2014</li>\n                                        <li id=\"2013\" onClick={this.setCarYear}>2013</li>\n                                        <li id=\"2012\" onClick={this.setCarYear}>2012</li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div className=\"select-wrapper m-b-lg-15\">\n                                <div className=\"dropdown\">\n                                    <button className=\"dropdown-toggle form-item\" type=\"button\" id=\"dropdownMenu6\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\n                                        {filters !== undefined && transition !== undefined && transition !== '' ? transition.toUpperCase() : 'Tranmission'}\n                                    </button>\n                                    <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu6\">\n                                        <li id=\"\" onClick={this.setCarTransition}>Any Type</li>\n                                        <li id=\"automatic\" onClick={this.setCarTransition}>Desktop</li>\n                                        <li id=\"manual\" onClick={this.setCarTransition}>Laptop</li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <input id=\"priceslider\" type=\"text\" disabled className=\"slider_amount m-t-lg-10\" value={priceRange!==undefined && homefilterActivated ? priceRange : this.state.priceRange} />\n                            <div id=\"spanrange\" className=\"slider-range\"></div>\n                            <button type=\"button\" className=\"ht-btn ht-btn-default m-t-lg-30\" onClick={() => this.buttonSearchClicked()}><i className=\"fa fa-search\"></i>Search Now</button>\n                        </div>\n                        <div className=\"clearfix\"></div>\n                        <div className=\"banner-item banner-bg-4 banner-1x color-inher\">\n                            <h5></h5>\n                            <h3 className=\"f-weight-300\"><strong>Online Computer Shop</strong></h3>\n                            <p>Great machines at Affordable Prices ⬇️</p>\n                            <a className=\"ht-btn ht-btn-default\">Shop now</a>\n                        </div>\n                    </div>\n                    <div className=\"col-sm-7 col-md-8 col-lg-9\">\n                        <div className=\"product product-grid product-grid-2 car\">\n                            <div className=\"heading heading-2 m-b-lg-0\">\n                                <h3 className=\"p-l-lg-20\">Computers ({cars.length})</h3>\n                            </div>\n                            <div className=\"product-filter p-t-xs-20 p-l-xs-20\">\n                                <div className=\"m-b-xs-10 pull-left\">\n                                    <a onClick={() => this.setDisplayType('cards')} className={this.state.displayType === 'cards' ? 'active' : ''}>\n                                        <i className=\"fa fa-th\" />\n                                    </a>\n                                    <a onClick={() => this.setDisplayType('list')} className={this.state.displayType === 'list' ? 'active' : ''}>\n                                        <i className=\"fa fa-th-list\" />\n                                    </a>\n                                </div>\n                                <div className=\"pull-right\">\n                                    <div className=\"pull-left\">\n                                        <div className=\"select-wrapper\">\n                                        <label>\n                                            <i className=\"fa fa-sort-alpha-asc\" />Show :{\" \"}\n                                        </label>\n                                        <div className=\"dropdown pull-left\">\n                                            <button className=\"dropdown-toggle form-item w-80\" type=\"button\" id=\"dropdownMenu2\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\n                                            {this.state.pageSize}\n                                            </button>\n                                            <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu2\">\n                                            <li>\n                                                <a onClick={() => this.setPageSize(4)}>4</a>\n                                            </li>\n                                            <li>\n                                                <a onClick={() => this.setPageSize(6)}>6</a>\n                                            </li>\n                                            <li>\n                                                <a\n                                                onClick={() =>\n                                                    this.setPageSize(\n                                                        cars.length\n                                                    )}\n                                                >\n                                                All\n                                                </a>\n                                            </li>\n                                            </ul>\n                                        </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                            <div className=\"clearfix\"></div>\n                            <div className=\"row\">\n                                {this.renderCars()}\n                            </div>\n                            <nav aria-label=\"Page navigation\">\n                                <ul className=\"pagination ht-pagination\">\n                                    <li>\n                                        <a aria-label=\"Previous\" style={this.state.activePage === 1 || cars.length !==0 ? { display: 'none' } : { display: 'block' }}>\n                                            <span aria-hidden=\"true\" >\n                                                <i className=\"fa fa-chevron-left\" onClick={() => { this.setActivePage(this.state.activePage - 1) }} />\n                                            </span>\n                                        </a>\n                                    </li>\n                                    {table.map(i => {\n                                        if(table.length<=1) return ''\n                                        else{\n                                            return <li key={i} className={this.state.activePage === i ? \"active\" : \"\"}>\n                                                    <a onClick={() => { this.setActivePage(i) }}>{i}</a>\n                                                </li>;\n                                        }\n                                        \n                                    })}\n                                    <li>\n                                        <a aria-label=\"Next\" style={this.state.activePage === Math.ceil(cars.length / this.state.pageSize) || cars.length !==0  ? { display: 'none' } : { display: 'block' }}>\n                                            <span aria-hidden=\"true\">\n                                                <i className=\"fa fa-chevron-right\" onClick={() => { this.setActivePage(this.state.activePage + 1) }} />\n                                            </span>\n                                        </a>\n                                    </li>\n                                </ul>\n                            </nav>\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n\n        );\n    }\n}\n/**fetchedCars is the reducer state for the cars fetched from the API ,\n *  and homefilterActivated is to know if the user entred this page throught the home filter or not */\nfunction mapStateToProps({ fetchedCars, homefilterActivated }) {\n    return { fetchedCars, homefilterActivated };\n}\n\nexport default connect(mapStateToProps, { fetchFiltredCars, turnOffHomefilter })(CarsContainer);"]},"metadata":{},"sourceType":"module"}